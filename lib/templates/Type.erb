/* generated by rpcoder */

package <%= name_space %>
{
    public class <%= type.name %>
    {
        <%- type.fields.each do |field| -%>
        private var _<%= field.name %>:<%= field.array_or_type %>;
        <%- end -%>

        <%- type.fields.each do |field| -%>
        public function get <%= field.name %>():<%= field.array_or_type %>
        {
            return _<%= field.name %>;
        }

        public function set <%= field.name %>(<%= field.name %>:<%= field.array_or_type %>):void
        {
            _<%= field.name %> = <%= field.name %>;
        }

        <%- end -%>
        public function <%= type.name %>(object:Object = null)
        {
            if (object)
            {
                <%- type.fields.each do |field| -%>
                <%- if field.array? -%>
                _<%= field.name %> = new Array();
                for each(var <%= field.name %>_elem:Object in object['<%= field.name %>'])
                    _<%= field.name %>.push(<%= field.instance_creator("#{field.name}_elem") %>);
                <%- else -%>
                _<%= field.name %> = <%= field.instance_creator(field.name, {:object? => true}) %>;
                <%- end -%>
                <%- end -%>
            }
        }

        public static function create(<%= type.fields.map {|i| "#{i.name}:#{i.array_or_type}" }.join(', ') %>):<%= type.name %>
        {
            var instance:<%= type.name %> = new <%= type.name %>();
            <%- type.fields.each do |field| -%>
            instance.<%= field.name %> = <%= field.name %>;
            <%- end -%>
            return instance;
        }

        public function toString():String
        {
            return [<%= type.fields.map {|i| "_#{i.name}" }.join(', ') %>].join(', ');
        }
    }
}
